[
  [
    {
      "type": "install-module",
      "name": "modmeta-db",
      "path": "external/modmeta-db",
      "sources": ["src/*.ts"],
      "build": true,
      "module": "modmeta-db"
    },
    {
      "type": "install-module",
      "name": "parse-ini",
      "path": "lib/js/parse-ini",
      "sources": ["src/*.ts"],
      "build": true,
      "module": "parse-ini"
    }
  ],
  [
    {
      "type": "install-module",
      "name": "nexus-api",
      "path": "lib/js/nexus-api",
      "sources": ["src/*.ts"],
      "build": true,
      "module": "nexus-api"
    },
    {
      "type": "build-copy",
      "condition": "buildType === 'out'",
      "name": "modinstaller (for development)",
      "path": "lib/csharp",
      "sources": ["**/*.cs", "**/*.csproj", "src/Component.sln"],
      "build": "buildDev",
      "copyTo": "{BUILD_DIR}/lib/modinstaller"
    },
    {
      "type": "build-copy",
      "condition": "buildType !== 'out'",
      "name": "modinstaller (for distribution)",
      "path": "lib/csharp",
      "sources": ["**/*.cs", "**/*.csproj", "src/Component.sln"],
      "build": "build",
      "copyTo": "{BUILD_DIR}/lib/modinstaller"
    },
    {
      "type": "install-module",
      "name": "exe-version",
      "path": "lib/cpp/exe-version",
      "sources": ["src/*", "binding.gyp", "*.json", "index.*"],
      "module": "exe-version"
    },
    {
      "type": "install-module",
      "name": "icon-extract",
      "path": "lib/cpp/icon-extract",
      "sources": ["src/*", "binding.gyp", "*.json", "index.*"],
      "module": "icon-extract"
    },
    {
      "type": "build-copy",
      "name": "gamebryo-plugin-management",
      "path": "extensions/gamebryo-plugin-management",
      "removeModules": ["nmm-api", "nexus-api"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/gamebryo-plugin-management"
    },
    {
      "type": "build-copy",
      "name": "gamebryo-savegame-management",
      "path": "extensions/gamebryo-savegame-management",
      "removeModules": ["nmm-api", "nexus-api"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/gamebryo-savegame-management"
    },
    {
      "type": "build-copy",
      "name": "gamebryo-test-settings",
      "path": "extensions/gamebryo-test-settings",
      "removeModules": ["nmm-api", "nexus-api"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/gamebryo-test-settings"
    },
    {
      "type": "build-copy",
      "name": "gamebryo-bsa-support",
      "path": "extensions/gamebryo-bsa-support",
      "removeModules": ["nmm-api", "nexus-api", "bsatk"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/gamebryo-bsa-support"
    },
    {
      "type": "build-copy",
      "name": "gamebryo-ba2-support",
      "path": "extensions/gamebryo-ba2-support",
      "removeModules": ["nmm-api", "nexus-api", "ba2tk"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/gamebryo-ba2-support"
    },
    {
      "type": "build-copy",
      "name": "local-gamesettings",
      "path": "extensions/local-gamesettings",
      "removeModules": ["nmm-api", "nexus-api"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/local-gamesettings"
    },
    {
      "type": "build-copy",
      "name": "gamebryo-archive-invalidation",
      "path": "extensions/gamebryo-archive-invalidation",
      "removeModules": ["nmm-api", "nexus-api"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/gamebryo-archive-invalidation"
    },
    {
      "type": "build-copy",
      "name": "mod-dependency-manager",
      "path": "extensions/mod-dependency-manager",
      "removeModules": ["nmm-api", "nexus-api"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "src/**/*.scss", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/mod-dependency-manager"
    },
    {
      "type": "build-copy",
      "name": "meta-editor",
      "path": "extensions/meta-editor",
      "removeModules": ["nmm-api", "nexus-api"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/meta-editor"
    },
    {
      "type": "build-copy",
      "name": "documentation",
      "path": "extensions/documentation",
      "removeModules": ["nmm-api"],
      "sources": ["src/**/*.ts", "src/**/*.tsx", "*.json", "webpack.config.js", "typings.custom/index.d.ts"],
      "copyTo": "{BUILD_DIR}/bundledPlugins/documentation"
    }
  ], [
    {
      "type": "electron-rebuild",
      "name": "exe-version-rebuild",
      "module": "exe-version",
      "sources": ["node_modules/exe-version/src/*", "node_modules/exe-version/binding.gyp", "node_modules/exe-version/*.js",
                  "node_modules/exe-version/package.json"]
    }
  ], [
    {
      "type": "electron-rebuild",
      "name": "icon-extract-rebuild",
      "module": "icon-extract",
      "sources": ["node_modules/icon-extract/build/Release/IconExtractor.node"]
    }
  ], [
    {
      "type": "electron-rebuild",
      "name": "ffi-rebuild",
      "module": "ffi",
      "sources": ["node_modules/ffi/src/*", "node_modules/ffi/package.json"]
    }
  ], [
    {
      "type": "electron-rebuild",
      "name": "ref-rebuild",
      "module": "ref",
      "sources": ["node_modules/ref/src/*", "node_modules/ref/package.json"]
    }
  ], [
    {
      "type": "electron-rebuild",
      "name": "node-sass-rebuild",
      "module": "node-sass",
      "sources": ["node_modules/node-sass/build/Release/binding.node"]
    }
  ], [
    {
      "type": "electron-rebuild",
      "name": "edge-rebuild",
      "module": "edge",
      "sources": ["node_modules/edge/build/Release/binding.node"]
    }
  ], [
    {
      "type": "electron-rebuild",
      "name": "leveldown-rebuild",
      "module": "leveldown",
      "sources": ["node_modules/leveldown/build/Release/leveldown.node"]
    }
  ]
]
